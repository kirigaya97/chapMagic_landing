import{g as t}from"./index.CB87Sc6I.js";import{S as x}from"./ScrollTrigger.Cv03IO65.js";t.registerPlugin(x);function P(){const a=document.getElementById("hero-section"),r=document.getElementById("hero-magic-trigger"),o=document.getElementById("hero-video"),f=document.getElementById("hero-vimeo-wrapper"),i=document.getElementById("hero-vimeo-iframe"),g=document.getElementById("hero-overlay"),v=document.getElementById("hero-content"),h=document.getElementById("hero-curtain"),l=document.getElementById("hero-brand-anchor"),d=document.getElementById("hero-scroll-indicator");if(!a||!r||!i||!f||!g||!v)return;const c=t.timeline({paused:!0});c.fromTo(".hero-title",{opacity:0,filter:"blur(20px)",y:20},{opacity:1,filter:"blur(0px)",y:0,duration:2,ease:"power2.out"}).fromTo(".hero-subtitle",{opacity:0,filter:"blur(15px)",y:10},{opacity:1,filter:"blur(0px)",y:0,duration:1.5,ease:"power2.out"},"-=1.5").fromTo(".hero-cta",{opacity:0,scale:.8},{opacity:1,scale:1,duration:1,ease:"back.out(1.7)"},"-=0.8");function u(){h&&(h.style.opacity="0",setTimeout(()=>h.remove(),1600))}let E=!1;if(o){let e=function(){o&&o.currentTime>=5.5&&(E=!0,c.play(),o.removeEventListener("timeupdate",e))};o.readyState>=3?u():o.addEventListener("canplay",u,{once:!0}),setTimeout(u,2500),o&&o.addEventListener("timeupdate",e),setTimeout(()=>{E||(E=!0,c.play())},8e3)}else u(),c.play();const L=i?.dataset.vimeoDesktop,k=i?.dataset.vimeoMobile,S=()=>window.innerWidth<768?k:L;i&&(i.src=`https://player.vimeo.com/video/${S()}?badge=0&autopause=0&player_id=hero-vimeo-iframe&app_id=58479&loop=1&background=1&muted=1`);function b(){if(!i)return;const e=window.innerWidth,w=window.innerHeight,I=16/9;e/w>I?(i.style.width=e+"px",i.style.height=e/I+"px"):(i.style.height=w+"px",i.style.width=w*I+"px")}b(),window.addEventListener("resize",b);const n=new Vimeo.Player(i);let s=!1,m=null,p=null;function B(){s||(s=!0,t.to(g,{opacity:0,duration:.8}),t.to(v,{opacity:0,y:-30,duration:.5}),d&&t.to(d,{opacity:0,duration:.3}),l&&t.to(l,{opacity:1,duration:.8,delay:.3}),p=setTimeout(()=>{n.setCurrentTime(0),n.play(),t.to(f,{opacity:1,duration:.6,ease:"power2.out"}),m=setTimeout(()=>{n.setMuted(!1),n.setVolume(0);const e={v:0};t.to(e,{v:.6,duration:.5,ease:"power2.out",onUpdate:()=>n.setVolume(e.v)})},500)},500))}function T(){s&&(s=!1,p&&(clearTimeout(p),p=null),m&&(clearTimeout(m),m=null),n.setMuted(!0),n.setVolume(0),n.pause(),t.set(f,{opacity:0}),t.set(g,{opacity:1}),t.set(v,{opacity:1,y:0}),d&&t.set(d,{opacity:1}),l&&t.set(l,{opacity:0}))}let y=null;r.addEventListener("mouseenter",()=>{y=setTimeout(()=>{B()},150)}),r.addEventListener("mouseleave",()=>{y&&(clearTimeout(y),y=null),T()}),r.addEventListener("touchstart",e=>{e.preventDefault(),s?T():B()},{passive:!1}),a.addEventListener("touchstart",e=>{s&&e.target!==r&&!r.contains(e.target)&&T()},{passive:!0})}document.addEventListener("astro:page-load",P);function V(){const a=document.getElementById("hero-section"),r=document.getElementById("hero-video");!a||!r||(x.getAll().forEach(o=>{o.vars.trigger===a&&o.kill()}),t.to(r,{yPercent:20,ease:"none",scrollTrigger:{trigger:a,start:"top top",end:"bottom top",scrub:!0}}))}document.addEventListener("astro:page-load",V);
